/* 
    Version    : 12.01.2018
    Author     : Manuel Maurer
    Contact:   : office@manuelmaurer.at
    Desc       : Plugin Dependencies (VelocityJS for Tooltips & Pop-Animation
                 Minified for better Performance
                 Source: http://velocityjs.org/
*/

!function(e,d,f){!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(e.jQuery)}(function(N){function M(h,g){return this.$element=N(h),g&&("string"===N.type(g.delay)||"number"===N.type(g.delay))&&(g.delay={show:g.delay,hide:g.delay}),this.options=N.extend({},I,g),this._defaults=I,this._name=L,this._targetclick=!1,this.init(),G.push(this.$element),this}var L="webuiPopover",K="webui-popover",J="webui.popover",I={placement:"auto",container:null,width:"auto",height:"auto",trigger:"click",style:"",selector:!1,delay:{show:null,hide:300},async:{type:"GET",before:null,success:null,error:null},cache:!0,multi:!1,arrow:!0,title:"",content:"",closeable:!1,padding:!0,url:"",type:"html",direction:"",animation:null,template:'<div class="webui-popover"><div class="webui-arrow"></div><div class="webui-popover-inner"><a href="#" class="close"></a><h3 class="webui-popover-title"></h3><div class="webui-popover-content"><i class="icon-refresh"></i> <p>&nbsp;</p></div></div></div>',backdrop:!1,dismissible:!0,onShow:null,onHide:null,abortXHR:!0,autoHide:!1,offsetTop:0,offsetLeft:0,iframeOptions:{frameborder:"0",allowtransparency:"true",id:"",name:"",scrolling:"",onload:"",height:"",width:""},hideEmpty:!1},H=K+"-rtl",G=[],F=N('<div class="webui-popover-backdrop"></div>'),E=0,D=!1,C=-2000,B=N(d),A=function(h,g){return isNaN(h)?g||0:Number(h)},z=function(g){return g.data("plugin_"+L)},y=function(){for(var h=null,g=0;g<G.length;g++){h=z(G[g]),h&&h.hide(!0)}B.trigger("hiddenAll."+J)},x=function(h){for(var g=null,i=0;i<G.length;i++){g=z(G[i]),g&&g.id!==h.id&&g.hide(!0)}B.trigger("hiddenAll."+J)},c="ontouchstart" in d.documentElement&&/Mobi/.test(navigator.userAgent),b=function(h){var g={x:0,y:0};if("touchstart"===h.type||"touchmove"===h.type||"touchend"===h.type||"touchcancel"===h.type){var i=h.originalEvent.touches[0]||h.originalEvent.changedTouches[0];g.x=i.pageX,g.y=i.pageY}else{("mousedown"===h.type||"mouseup"===h.type||"click"===h.type)&&(g.x=h.pageX,g.y=h.pageY)}return g};M.prototype={init:function(){if(this.$element[0] instanceof d.constructor&&!this.options.selector){throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!")}"manual"!==this.getTrigger()&&(c?this.$element.off("touchend",this.options.selector).on("touchend",this.options.selector,N.proxy(this.toggle,this)):"click"===this.getTrigger()?this.$element.off("click",this.options.selector).on("click",this.options.selector,N.proxy(this.toggle,this)):"hover"===this.getTrigger()&&this.$element.off("mouseenter mouseleave click",this.options.selector).on("mouseenter",this.options.selector,N.proxy(this.mouseenterHandler,this)).on("mouseleave",this.options.selector,N.proxy(this.mouseleaveHandler,this))),this._poped=!1,this._inited=!0,this._opened=!1,this._idSeed=E,this.id=L+this._idSeed,this.options.container=N(this.options.container||d.body).first(),this.options.backdrop&&F.appendTo(this.options.container).hide(),E++,"sticky"===this.getTrigger()&&this.show(),this.options.selector&&(this._options=N.extend({},this.options,{selector:""}))},destroy:function(){for(var h=-1,g=0;g<G.length;g++){if(G[g]===this.$element){h=g;break}}G.splice(h,1),this.hide(),this.$element.data("plugin_"+L,null),"click"===this.getTrigger()?this.$element.off("click"):"hover"===this.getTrigger()&&this.$element.off("mouseenter mouseleave"),this.$target&&this.$target.remove()},getDelegateOptions:function(){var g={};return this._options&&N.each(this._options,function(h,i){I[h]!==i&&(g[h]=i)}),g},hide:function(h,g){if((h||"sticky"!==this.getTrigger())&&this._opened){g&&(g.preventDefault(),g.stopPropagation()),this.xhr&&this.options.abortXHR===!0&&(this.xhr.abort(),this.xhr=null);var j=N.Event("hide."+J);if(this.$element.trigger(j,[this.$target]),this.$target){this.$target.removeClass("in").addClass(this.getHideAnimation());var i=this;setTimeout(function(){i.$target.hide(),i.getCache()||i.$target.remove()},i.getHideDelay())}this.options.backdrop&&F.hide(),this._opened=!1,this.$element.trigger("hidden."+J,[this.$target]),this.options.onHide&&this.options.onHide(this.$target)}},resetAutoHide:function(){var h=this,g=h.getAutoHide();g&&(h.autoHideHandler&&clearTimeout(h.autoHideHandler),h.autoHideHandler=setTimeout(function(){h.hide()},g))},delegate:function(h){var g=N(h).data("plugin_"+L);return g||(g=new M(h,this.getDelegateOptions()),N(h).data("plugin_"+L,g)),g},toggle:function(h){var g=this;h&&(h.preventDefault(),h.stopPropagation(),this.options.selector&&(g=this.delegate(h.currentTarget))),g[g.getTarget().hasClass("in")?"hide":"show"]()},hideAll:function(){y()},hideOthers:function(){x(this)},show:function(){if(!this._opened){var g=this.getTarget().removeClass().addClass(K).addClass(this._customTargetClass);if(this.options.multi||this.hideOthers(),!this.getCache()||!this._poped||""===this.content){if(this.content="",this.setTitle(this.getTitle()),this.options.closeable||g.find(".close").off("click").remove(),this.isAsync()?this.setContentASync(this.options.content):this.setContent(this.getContent()),this.canEmptyHide()&&""===this.content){return}g.show()}this.displayContent(),this.options.onShow&&this.options.onShow(g),this.bindBodyEvents(),this.options.backdrop&&F.show(),this._opened=!0,this.resetAutoHide()}},displayContent:function(){var T=this.getElementPosition(),S=this.getTarget().removeClass().addClass(K).addClass(this._customTargetClass),R=this.getContentElement(),Q=S[0].offsetWidth,P=S[0].offsetHeight,O="bottom",w=N.Event("show."+J);if(this.canEmptyHide()){var v=R.children().html();if(null!==v&&0===v.trim().length){return}}this.$element.trigger(w,[S]);var u=this.$element.data("width")||this.options.width;""===u&&(u=this._defaults.width),"auto"!==u&&S.width(u);var o=this.$element.data("height")||this.options.height;""===o&&(o=this._defaults.height),"auto"!==o&&R.height(o),this.options.style&&this.$target.addClass(K+"-"+this.options.style),"rtl"!==this.options.direction||R.hasClass(H)||R.addClass(H),this.options.arrow||S.find(".webui-arrow").remove(),S.detach().css({top:C,left:C,display:"block"}),this.getAnimation()&&S.addClass(this.getAnimation()),S.appendTo(this.options.container),O=this.getPlacement(T),this.$element.trigger("added."+J),this.initTargetEvents(),this.options.padding||("auto"!==this.options.height&&R.css("height",R.outerHeight()),this.$target.addClass("webui-no-padding")),this.options.maxHeight&&R.css("maxHeight",this.options.maxHeight),this.options.maxWidth&&R.css("maxWidth",this.options.maxWidth),Q=S[0].offsetWidth,P=S[0].offsetHeight;var j=this.getTargetPositin(T,O,Q,P);if(this.$target.css(j.position).addClass(O).addClass("in"),"iframe"===this.options.type){var h=S.find("iframe"),g=S.width(),V=h.parent().height();""!==this.options.iframeOptions.width&&"auto"!==this.options.iframeOptions.width&&(g=this.options.iframeOptions.width),""!==this.options.iframeOptions.height&&"auto"!==this.options.iframeOptions.height&&(V=this.options.iframeOptions.height),h.width(g).height(V)}if(this.options.arrow||this.$target.css({margin:0}),this.options.arrow){var U=this.$target.find(".webui-arrow");U.removeAttr("style"),"left"===O||"right"===O?U.css({top:this.$target.height()/2}):("top"===O||"bottom"===O)&&U.css({left:this.$target.width()/2}),j.arrowOffset&&(-1===j.arrowOffset.left||-1===j.arrowOffset.top?U.hide():U.css(j.arrowOffset))}this._poped=!0,this.$element.trigger("shown."+J,[this.$target])},isTargetLoaded:function(){return 0===this.getTarget().find("i.glyphicon-refresh").length},getTriggerElement:function(){return this.$element},getTarget:function(){if(!this.$target){var g=L+this._idSeed;this.$target=N(this.options.template).attr("id",g),this._customTargetClass=this.$target.attr("class")!==K?this.$target.attr("class"):null,this.getTriggerElement().attr("data-target",g)}return this.$target.data("trigger-element")||this.$target.data("trigger-element",this.getTriggerElement()),this.$target},removeTarget:function(){this.$target.remove(),this.$target=null,this.$contentElement=null},getTitleElement:function(){return this.getTarget().find("."+K+"-title")},getContentElement:function(){return this.$contentElement||(this.$contentElement=this.getTarget().find("."+K+"-content")),this.$contentElement},getTitle:function(){return this.$element.attr("data-title")||this.options.title||this.$element.attr("title")},getUrl:function(){return this.$element.attr("data-url")||this.options.url},getAutoHide:function(){return this.$element.attr("data-auto-hide")||this.options.autoHide},getOffsetTop:function(){return A(this.$element.attr("data-offset-top"))||this.options.offsetTop},getOffsetLeft:function(){return A(this.$element.attr("data-offset-left"))||this.options.offsetLeft},getCache:function(){var g=this.$element.attr("data-cache");if("undefined"!=typeof g){switch(g.toLowerCase()){case"true":case"yes":case"1":return !0;case"false":case"no":case"0":return !1}}return this.options.cache},getTrigger:function(){return this.$element.attr("data-trigger")||this.options.trigger},getDelayShow:function(){var g=this.$element.attr("data-delay-show");return"undefined"!=typeof g?g:0===this.options.delay.show?0:this.options.delay.show||100},getHideDelay:function(){var g=this.$element.attr("data-delay-hide");return"undefined"!=typeof g?g:0===this.options.delay.hide?0:this.options.delay.hide||100},getAnimation:function(){var g=this.$element.attr("data-animation");return g||this.options.animation},getHideAnimation:function(){var g=this.getAnimation();return g?g+"-out":"out"},setTitle:function(h){var g=this.getTitleElement();h?("rtl"!==this.options.direction||g.hasClass(H)||g.addClass(H),g.html(h)):g.remove()},hasContent:function(){return this.getContent()},canEmptyHide:function(){return this.options.hideEmpty&&"html"===this.options.type},getIframe:function(){var h=N("<iframe></iframe>").attr("src",this.getUrl()),g=this;return N.each(this._defaults.iframeOptions,function(i){"undefined"!=typeof g.options.iframeOptions[i]&&h.attr(i,g.options.iframeOptions[i])}),h},getContent:function(){if(this.getUrl()){switch(this.options.type){case"iframe":this.content=this.getIframe();break;case"html":try{this.content=N(this.getUrl()),this.content.is(":visible")||this.content.show()}catch(h){throw new Error("Unable to get popover content. Invalid selector specified.")}}}else{if(!this.content){var g="";if(g=N.isFunction(this.options.content)?this.options.content.apply(this.$element[0],[this]):this.options.content,this.content=this.$element.attr("data-content")||g,!this.content){var i=this.$element.next();i&&i.hasClass(K+"-content")&&(this.content=i)}}}return this.content},setContent:function(h){var g=this.getTarget(),i=this.getContentElement();"string"==typeof h?i.html(h):h instanceof N&&(i.html(""),this.options.cache?h.removeClass(K+"-content").appendTo(i):h.clone(!0,!0).removeClass(K+"-content").appendTo(i)),this.$target=g},isAsync:function(){return"async"===this.options.type},setContentASync:function(h){var g=this;this.xhr||(this.xhr=N.ajax({url:this.getUrl(),type:this.options.async.type,cache:this.getCache(),beforeSend:function(i,j){g.options.async.before&&g.options.async.before(g,i,j)},success:function(j){g.bindBodyEvents(),h&&N.isFunction(h)?g.content=h.apply(g.$element[0],[j]):g.content=j,g.setContent(g.content);var i=g.getContentElement();i.removeAttr("style"),g.displayContent(),g.options.async.success&&g.options.async.success(g,j)},complete:function(){g.xhr=null},error:function(i,j){g.options.async.error&&g.options.async.error(g,i,j)}}))},bindBodyEvents:function(){D||(this.options.dismissible&&"click"===this.getTrigger()?c?B.off("touchstart.webui-popover").on("touchstart.webui-popover",N.proxy(this.bodyTouchStartHandler,this)):(B.off("keyup.webui-popover").on("keyup.webui-popover",N.proxy(this.escapeHandler,this)),B.off("click.webui-popover").on("click.webui-popover",N.proxy(this.bodyClickHandler,this))):"hover"===this.getTrigger()&&B.off("touchend.webui-popover").on("touchend.webui-popover",N.proxy(this.bodyClickHandler,this)))},mouseenterHandler:function(h){var g=this;h&&this.options.selector&&(g=this.delegate(h.currentTarget)),g._timeout&&clearTimeout(g._timeout),g._enterTimeout=setTimeout(function(){g.getTarget().is(":visible")||g.show()},this.getDelayShow())},mouseleaveHandler:function(){var g=this;clearTimeout(g._enterTimeout),g._timeout=setTimeout(function(){g.hide()},this.getHideDelay())},escapeHandler:function(g){27===g.keyCode&&this.hideAll()},bodyTouchStartHandler:function(h){var g=this,i=N(h.currentTarget);i.on("touchend",function(j){g.bodyClickHandler(j),i.off("touchend")}),i.on("touchmove",function(){i.off("touchend")})},bodyClickHandler:function(v){D=!0;for(var u=!0,t=0;t<G.length;t++){var s=z(G[t]);if(s&&s._opened){var r=s.getTarget().offset(),q=r.left,p=r.top,o=r.left+s.getTarget().width(),n=r.top+s.getTarget().height(),m=b(v),k=m.x>=q&&m.x<=o&&m.y>=p&&m.y<=n;if(k){u=!1;break}}}u&&y()},initTargetEvents:function(){"hover"===this.getTrigger()&&this.$target.off("mouseenter mouseleave").on("mouseenter",N.proxy(this.mouseenterHandler,this)).on("mouseleave",N.proxy(this.mouseleaveHandler,this)),this.$target.find(".close").off("click").on("click",N.proxy(this.hide,this,!0))},getPlacement:function(O){var w,v=this.options.container,u=v.innerWidth(),t=v.innerHeight(),s=v.scrollTop(),r=v.scrollLeft(),q=Math.max(0,O.left-r),p=Math.max(0,O.top-s);w="function"==typeof this.options.placement?this.options.placement.call(this,this.getTarget()[0],this.$element[0]):this.$element.data("placement")||this.options.placement;var o="horizontal"===w,n="vertical"===w,m="auto"===w||o||n;return m?w=u/3>q?t/3>p?o?"right-bottom":"bottom-right":2*t/3>p?n?t/2>=p?"bottom-right":"top-right":"right":o?"right-top":"top-right":2*u/3>q?t/3>p?o?u/2>=q?"right-bottom":"left-bottom":"bottom":2*t/3>p?o?u/2>=q?"right":"left":t/2>=p?"bottom":"top":o?u/2>=q?"right-top":"left-top":"top":t/3>p?o?"left-bottom":"bottom-left":2*t/3>p?n?t/2>=p?"bottom-left":"top-left":"left":o?"left-top":"top-left":"auto-top"===w?w=u/3>q?"top-right":2*u/3>q?"top":"top-left":"auto-bottom"===w?w=u/3>q?"bottom-right":2*u/3>q?"bottom":"bottom-left":"auto-left"===w?w=t/3>p?"left-top":2*t/3>p?"left":"left-bottom":"auto-right"===w&&(w=t/3>p?"right-bottom":2*t/3>p?"right":"right-top"),w},getElementPosition:function(){var g=this.$element[0].getBoundingClientRect(),j=this.options.container,i=j.css("position");if(j.is(d.body)||"static"===i){return N.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth||g.width,height:this.$element[0].offsetHeight||g.height})}if("fixed"===i){var h=j[0].getBoundingClientRect();return{top:g.top-h.top+j.scrollTop(),left:g.left-h.left+j.scrollLeft(),width:g.width,height:g.height}}return"relative"===i?{top:this.$element.offset().top-j.offset().top,left:this.$element.offset().left-j.offset().left,width:this.$element[0].offsetWidth||g.width,height:this.$element[0].offsetHeight||g.height}:void 0},getTargetPositin:function(aj,ai,ah,ag){var af=aj,ae=this.options.container,ad=this.$element.outerWidth(),ac=this.$element.outerHeight(),ab=d.documentElement.scrollTop+ae.scrollTop(),aa=d.documentElement.scrollLeft+ae.scrollLeft(),Z={},Y=null,X=this.options.arrow?20:0,W=10,V=X+W>ad?X:0,U=X+W>ac?X:0,T=0,S=d.documentElement.clientHeight+ab,R=d.documentElement.clientWidth+aa,Q=af.left+af.width/2-V>0,P=af.left+af.width/2+V<R,O=af.top+af.height/2-U>0,o=af.top+af.height/2+U<S;switch(ai){case"bottom":Z={top:af.top+af.height,left:af.left+af.width/2-ah/2};break;case"top":Z={top:af.top-ag,left:af.left+af.width/2-ah/2};break;case"left":Z={top:af.top+af.height/2-ag/2,left:af.left-ah};break;case"right":Z={top:af.top+af.height/2-ag/2,left:af.left+af.width};break;case"top-right":Z={top:af.top-ag,left:Q?af.left-V:W},Y={left:Q?Math.min(ad,ah)/2+V:C};break;case"top-left":T=P?V:-W,Z={top:af.top-ag,left:af.left-ah+af.width+T},Y={left:P?ah-Math.min(ad,ah)/2-V:C};break;case"bottom-right":Z={top:af.top+af.height,left:Q?af.left-V:W},Y={left:Q?Math.min(ad,ah)/2+V:C};break;case"bottom-left":T=P?V:-W,Z={top:af.top+af.height,left:af.left-ah+af.width+T},Y={left:P?ah-Math.min(ad,ah)/2-V:C};break;case"right-top":T=o?U:-W,Z={top:af.top-ag+af.height+T,left:af.left+af.width},Y={top:o?ag-Math.min(ac,ag)/2-U:C};break;case"right-bottom":Z={top:O?af.top-U:W,left:af.left+af.width},Y={top:O?Math.min(ac,ag)/2+U:C};break;case"left-top":T=o?U:-W,Z={top:af.top-ag+af.height+T,left:af.left-ah},Y={top:o?ag-Math.min(ac,ag)/2-U:C};break;case"left-bottom":Z={top:O?af.top-U:W,left:af.left-ah},Y={top:O?Math.min(ac,ag)/2+U:C}}return Z.top+=this.getOffsetTop(),Z.left+=this.getOffsetLeft(),{position:Z,arrowOffset:Y}}},N.fn[L]=function(i,h){var k=[],j=this.each(function(){var l=N.data(this,"plugin_"+L);l?"destroy"===i?l.destroy():"string"==typeof i&&k.push(l[i]()):(i?"string"==typeof i?"destroy"!==i&&(h||(l=new M(this,null),k.push(l[i]()))):"object"==typeof i&&(l=new M(this,i)):l=new M(this,null),N.data(this,"plugin_"+L,l))});return k.length?k:j};var a=function(){var n=function(){y()},i=function(h,g){g=g||{},N(h).webuiPopover(g)},s=function(h){var g=!0;return N(h).each(function(j,k){g=g&&N(k).data("plugin_"+L)!==f}),g},r=function(h,g){g?N(h).webuiPopover(g).webuiPopover("show"):N(h).webuiPopover("show")},q=function(g){N(g).webuiPopover("hide")},p=function(g){I=N.extend({},I,g)},o=function(h,g){var k=N(h).data("plugin_"+L);if(k){var j=k.getCache();k.options.cache=!1,k.options.content=g,k._opened?(k._opened=!1,k.show()):k.isAsync()?k.setContentASync(g):k.setContent(g),k.options.cache=j}},m=function(j,h){var t=N(j).data("plugin_"+L);if(t){var l=t.getCache(),k=t.options.type;t.options.cache=!1,t.options.url=h,t._opened?(t._opened=!1,t.show()):(t.options.type="async",t.setContentASync(t.content)),t.options.cache=l,t.options.type=k}};return{show:r,hide:q,create:i,isCreated:s,hideAll:n,updateContent:o,updateContentAsync:m,setDefaultOptions:p}}();e.WebuiPopovers=a})}(window,document);(function(){var M,af,G,K,H,B,L,aa,N,E,ag,A,I,ad,F,ae,z,S,O,ac,P,Q,j,p,D,q,Y,e,o,J,f,v,w,W,C,T,c,d,l,s,x,b,i,a,m,t,k,r,V,X,h,g,n,Z,u,ab,y,R,U=function(ai,ah){return function(){return ai.apply(ah,arguments)}};f=function(){return"visible"===document.visibilityState||null!=e.tests},T=function(){var ah;return ah=[],"undefined"!=typeof document&&null!==document&&document.addEventListener("visibilitychange",function(){var al,aj,ai,ak;for(ak=[],aj=0,ai=ah.length;ai>aj;aj++){al=ah[aj],ak.push(al(f()))}return ak}),function(ai){return ah.push(ai)}}(),p=function(ai){var ak,aj,ah;aj={};for(ak in ai){ah=ai[ak],aj[ak]=ah}return aj},Q=function(ai){var ah;return ah={},function(){var aj,al,ak,an,am;for(al="",an=0,am=arguments.length;am>an;an++){aj=arguments[an],al+=aj.toString()+","}return ak=ah[al],ak||(ah[al]=ak=ai.apply(this,arguments)),ak}},C=function(ah){return function(al){var aj,ai,ak;return al instanceof Array||al instanceof NodeList||al instanceof HTMLCollection?ak=function(){var am,ao,an;for(an=[],ai=am=0,ao=al.length;ao>=0?ao>am:am>ao;ai=ao>=0?++am:--am){aj=Array.prototype.slice.call(arguments,1),aj.splice(0,0,al[ai]),an.push(ah.apply(this,aj))}return an}.apply(this,arguments):ah.apply(this,arguments)}},S=function(ai,al){var aj,ah,ak;ak=[];for(aj in al){ah=al[aj],ak.push(null!=ai[aj]?ai[aj]:ai[aj]=ah)}return ak},O=function(ai,al){var aj,ah,ak;if(null!=ai.style){return ac(ai,al)}ak=[];for(aj in al){ah=al[aj],ak.push(ai[aj]=ah.format())}return ak},ac=function(ah,al){var aj,am,ak,ai,an;al=c(al),ai=[],aj=v(ah);for(am in al){an=al[am],ab.contains(am)?ai.push([am,an]):(null!=an.format&&(an=an.format()),"number"==typeof an&&(an=""+an+R(am,an)),null!=ah.hasAttribute&&ah.hasAttribute(am)?ah.setAttribute(am,an):null!=ah.style&&(ah.style[l(am)]=an),am in ah&&(ah[am]=an))}return ai.length>0?aj?(ak=new E,ak.applyProperties(ai),ah.setAttribute("transform",ak.decompose().format())):(an=ai.map(function(ao){return y(ao[0],ao[1])}).join(" "),ah.style[l("transform")]=an):void 0},v=function(ai){var ah,aj;return"undefined"!=typeof SVGElement&&null!==SVGElement&&"undefined"!=typeof SVGSVGElement&&null!==SVGSVGElement?ai instanceof SVGElement&&!(ai instanceof SVGSVGElement):null!=(ah=null!=(aj=e.tests)&&"function"==typeof aj.isSVG?aj.isSVG(ai):void 0)?ah:!1},b=function(ai,ah){var aj;return aj=Math.pow(10,ah),Math.round(ai*aj)/aj},ag=function(){function ah(ai){var ak,aj,al;for(this.obj={},aj=0,al=ai.length;al>aj;aj++){ak=ai[aj],this.obj[ak]=1}}return ah.prototype.contains=function(ai){return 1===this.obj[ai]},ah}(),u=function(ah){return ah.replace(/([A-Z])/g,function(ai){return"-"+ai.toLowerCase()})},s=new ag("marginTop,marginLeft,marginBottom,marginRight,paddingTop,paddingLeft,paddingBottom,paddingRight,top,left,bottom,right,translateX,translateY,translateZ,perspectiveX,perspectiveY,perspectiveZ,width,height,maxWidth,maxHeight,minWidth,minHeight,borderRadius".split(",")),Y=new ag("rotate,rotateX,rotateY,rotateZ,skew,skewX,skewY,skewZ".split(",")),ab=new ag("translate,translateX,translateY,translateZ,scale,scaleX,scaleY,scaleZ,rotate,rotateX,rotateY,rotateZ,rotateC,rotateCX,rotateCY,skew,skewX,skewY,skewZ,perspective".split(",")),h=new ag("accent-height,ascent,azimuth,baseFrequency,baseline-shift,bias,cx,cy,d,diffuseConstant,divisor,dx,dy,elevation,filterRes,fx,fy,gradientTransform,height,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,letter-spacing,limitingConeAngle,markerHeight,markerWidth,numOctaves,order,overline-position,overline-thickness,pathLength,points,pointsAtX,pointsAtY,pointsAtZ,r,radius,rx,ry,seed,specularConstant,specularExponent,stdDeviation,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,surfaceScale,target,targetX,targetY,transform,underline-position,underline-thickness,viewBox,width,x,x1,x2,y,y1,y2,z".split(",")),R=function(ai,ah){return"number"!=typeof ah?"":s.contains(ai)?"px":Y.contains(ai)?"deg":""},y=function(ai,ak){var aj,ah;return aj=(""+ak).match(/^([0-9.-]*)([^0-9]*)$/),null!=aj?(ak=aj[1],ah=aj[2]):ak=parseFloat(ak),ak=b(parseFloat(ak),10),(null==ah||""===ah)&&(ah=R(ai,ak)),""+ai+"("+ak+ah+")"},c=function(ai){var al,an,ap,ao,am,ah,ak,aj;ap={};for(ao in ai){if(am=ai[ao],ab.contains(ao)){if(an=ao.match(/(translate|rotateC|rotate|skew|scale|perspective)(X|Y|Z|)/),an&&an[2].length>0){ap[ao]=am}else{for(aj=["X","Y","Z"],ah=0,ak=aj.length;ak>ah;ah++){al=aj[ah],ap[an[1]+al]=am}}}else{ap[ao]=am}}return ap},q=function(ai){var ah;return ah="opacity"===ai?1:0,""+ah+R(ai,ah)},o=function(ao,at){var ak,ap,al,ai,an,aq,au,ah,am,aj,ar;if(ai={},ak=v(ao),null!=ao.style){for(an=window.getComputedStyle(ao,null),au=0,am=at.length;am>au;au++){ap=at[au],ab.contains(ap)?null==ai.transform&&(al=ak?new E(null!=(ar=ao.transform.baseVal.consolidate())?ar.matrix:void 0):N.fromTransform(an[l("transform")]),ai.transform=al.decompose()):(aq=null!=ao.hasAttribute&&ao.hasAttribute(ap)?ao.getAttribute(ap):ap in ao?ao[ap]:an[ap],null!=aq&&"d"!==ap||!h.contains(ap)||(aq=ao.getAttribute(ap)),(""===aq||null==aq)&&(aq=q(ap)),ai[ap]=D(aq))}}else{for(ah=0,aj=at.length;aj>ah;ah++){ap=at[ah],ai[ap]=D(ao[ap])}}return ad(ao,ai),ai},ad=function(ai,ak){var aj,ah;for(ah in ak){aj=ak[ah],aj instanceof B&&null!=ai.style&&ah in ai.style&&(aj=new aa([aj,R(ah,0)])),ak[ah]=aj}return ak},D=function(am){var al,aj,ak,ah,ai;for(ak=[K,L,B,aa],ah=0,ai=ak.length;ai>ah;ah++){if(aj=ak[ah],al=aj.create(am),null!=al){return al}}return null},aa=function(){function ah(ai){this.parts=ai,this.format=U(this.format,this),this.interpolate=U(this.interpolate,this)}return ah.prototype.interpolate=function(al,aj){var am,ak,ao,an,ai,ap;for(an=this.parts,am=al.parts,ao=[],ak=ai=0,ap=Math.min(an.length,am.length);ap>=0?ap>ai:ai>ap;ak=ap>=0?++ai:--ai){ao.push(null!=an[ak].interpolate?an[ak].interpolate(am[ak],aj):an[ak])}return new ah(ao)},ah.prototype.format=function(){var ai;return ai=this.parts.map(function(aj){return null!=aj.format?aj.format():aj}),ai.join("")},ah.create=function(ai){var an,ap,aq,at,ar,al,aj,ak,ao,au,am;for(ai=""+ai,aq=[],aj=[{re:/(#[a-f\d]{3,6})/gi,klass:H,parse:function(av){return av}},{re:/(rgba?\([0-9.]*, ?[0-9.]*, ?[0-9.]*(?:, ?[0-9.]*)?\))/gi,klass:H,parse:function(av){return av}},{re:/([-+]?[\d.]+)/gi,klass:B,parse:parseFloat}],ak=0,au=aj.length;au>ak;ak++){for(al=aj[ak],ar=al.re;ap=ar.exec(ai);){aq.push({index:ap.index,length:ap[1].length,interpolable:al.klass.create(al.parse(ap[1]))})}}for(aq=aq.sort(function(aw,av){return aw.index>av.index?1:-1}),at=[],an=0,ao=0,am=aq.length;am>ao;ao++){ap=aq[ao],ap.index<an||(ap.index>an&&at.push(ai.substring(an,ap.index)),at.push(ap.interpolable),an=ap.index+ap.length)}return an<ai.length&&at.push(ai.substring(an)),new ah(at)},ah}(),L=function(){function ah(ai){this.format=U(this.format,this),this.interpolate=U(this.interpolate,this),this.obj=ai}return ah.prototype.interpolate=function(al,aj){var am,ak,ao,an,ai;an=this.obj,am=al.obj,ao={};for(ak in an){ai=an[ak],ao[ak]=null!=ai.interpolate?ai.interpolate(am[ak],aj):ai}return new ah(ao)},ah.prototype.format=function(){return this.obj},ah.create=function(al){var aj,ai,ak;if(al instanceof Object){ai={};for(aj in al){ak=al[aj],ai[aj]=D(ak)}return new ah(ai)}return null},ah}(),B=function(){function ah(ai){this.format=U(this.format,this),this.interpolate=U(this.interpolate,this),this.value=parseFloat(ai)}return ah.prototype.interpolate=function(al,aj){var ai,ak;return ak=this.value,ai=al.value,new ah((ai-ak)*aj+ak)},ah.prototype.format=function(){return b(this.value,5)},ah.create=function(ai){return"number"==typeof ai?new ah(ai):null},ah}(),K=function(){function ah(ai){this.values=ai,this.format=U(this.format,this),this.interpolate=U(this.interpolate,this)}return ah.prototype.interpolate=function(al,aj){var am,ak,ao,an,ai,ap;for(an=this.values,am=al.values,ao=[],ak=ai=0,ap=Math.min(an.length,am.length);ap>=0?ap>ai:ai>ap;ak=ap>=0?++ai:--ai){ao.push(null!=an[ak].interpolate?an[ak].interpolate(am[ak],aj):an[ak])}return new ah(ao)},ah.prototype.format=function(){return this.values.map(function(ai){return null!=ai.format?ai.format():ai})},ah.createFromArray=function(ai){var aj;return aj=ai.map(function(ak){return D(ak)||ak}),aj=aj.filter(function(ak){return null!=ak}),new ah(aj)},ah.create=function(ai){return ai instanceof Array?ah.createFromArray(ai):null},ah}(),M=function(){function ah(ai,aj){this.rgb=null!=ai?ai:{},this.format=aj,this.toRgba=U(this.toRgba,this),this.toRgb=U(this.toRgb,this),this.toHex=U(this.toHex,this)}return ah.fromHex=function(ak){var aj,ai;return aj=ak.match(/^#([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})$/i),null!=aj&&(ak="#"+aj[1]+aj[1]+aj[2]+aj[2]+aj[3]+aj[3]),ai=ak.match(/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i),null!=ai?new ah({r:parseInt(ai[1],16),g:parseInt(ai[2],16),b:parseInt(ai[3],16),a:1},"hex"):null},ah.fromRgb=function(ak){var aj,ai;return aj=ak.match(/^rgba?\(([0-9.]*), ?([0-9.]*), ?([0-9.]*)(?:, ?([0-9.]*))?\)$/),null!=aj?new ah({r:parseFloat(aj[1]),g:parseFloat(aj[2]),b:parseFloat(aj[3]),a:parseFloat(null!=(ai=aj[4])?ai:1)},null!=aj[4]?"rgba":"rgb"):null},ah.componentToHex=function(ai){var aj;return aj=ai.toString(16),1===aj.length?"0"+aj:aj},ah.prototype.toHex=function(){return"#"+ah.componentToHex(this.rgb.r)+ah.componentToHex(this.rgb.g)+ah.componentToHex(this.rgb.b)},ah.prototype.toRgb=function(){return"rgb("+this.rgb.r+", "+this.rgb.g+", "+this.rgb.b+")"},ah.prototype.toRgba=function(){return"rgba("+this.rgb.r+", "+this.rgb.g+", "+this.rgb.b+", "+this.rgb.a+")"},ah}(),H=function(){function ah(ai){this.color=ai,this.format=U(this.format,this),this.interpolate=U(this.interpolate,this)}return ah.prototype.interpolate=function(ap,ar){var aq,an,ai,ak,aj,ao,al,am;for(ak=this.color,aq=ap.color,ai={},am=["r","g","b"],ao=0,al=am.length;al>ao;ao++){an=am[ao],aj=Math.round((aq.rgb[an]-ak.rgb[an])*ar+ak.rgb[an]),ai[an]=Math.min(255,Math.max(0,aj))}return an="a",aj=b((aq.rgb[an]-ak.rgb[an])*ar+ak.rgb[an],5),ai[an]=Math.min(1,Math.max(0,aj)),new ah(new M(ai,aq.format))},ah.prototype.format=function(){return"hex"===this.color.format?this.color.toHex():"rgb"===this.color.format?this.color.toRgb():"rgba"===this.color.format?this.color.toRgba():void 0},ah.create=function(aj){var ai;if("string"==typeof aj){return ai=M.fromHex(aj)||M.fromRgb(aj),null!=ai?new ah(ai):null}},ah}(),G=function(){function ah(ai){this.props=ai,this.applyRotateCenter=U(this.applyRotateCenter,this),this.format=U(this.format,this),this.interpolate=U(this.interpolate,this)}return ah.prototype.interpolate=function(at,am){var ar,an,aw,aj,ap,ak,ai,au,av,ao,aq,al;for(aw={},ao=["translate","scale","rotate"],aj=0,au=ao.length;au>aj;aj++){for(an=ao[aj],aw[an]=[],ar=ap=0,aq=this.props[an].length;aq>=0?aq>ap:ap>aq;ar=aq>=0?++ap:--ap){aw[an][ar]=(at.props[an][ar]-this.props[an][ar])*am+this.props[an][ar]}}for(ar=ak=1;2>=ak;ar=++ak){aw.rotate[ar]=at.props.rotate[ar]}for(al=["skew"],ai=0,av=al.length;av>ai;ai++){an=al[ai],aw[an]=(at.props[an]-this.props[an])*am+this.props[an]}return new ah(aw)},ah.prototype.format=function(){return"translate("+this.props.translate.join(",")+") rotate("+this.props.rotate.join(",")+") skewX("+this.props.skew+") scale("+this.props.scale.join(",")+")"},ah.prototype.applyRotateCenter=function(ao){var al,aj,am,ak,ai,an;for(aj=P.createSVGMatrix(),aj=aj.translate(ao[0],ao[1]),aj=aj.rotate(this.props.rotate[0]),aj=aj.translate(-ao[0],-ao[1]),am=new E(aj),ak=am.decompose().props.translate,an=[],al=ai=0;1>=ai;al=++ai){an.push(this.props.translate[al]-=ak[al])}return an},ah}(),P="undefined"!=typeof document&&null!==document?document.createElementNS("http://www.w3.org/2000/svg","svg"):void 0,E=function(){function ah(ai){this.m=ai,this.applyProperties=U(this.applyProperties,this),this.decompose=U(this.decompose,this),this.m||(this.m=P.createSVGMatrix())}return ah.prototype.decompose=function(){var am,ak,al,aj,ai;return aj=new A([this.m.a,this.m.b]),ai=new A([this.m.c,this.m.d]),am=aj.length(),al=aj.dot(ai),aj=aj.normalize(),ak=ai.combine(aj,1,-al).length(),new G({translate:[this.m.e,this.m.f],rotate:[180*Math.atan2(this.m.b,this.m.a)/Math.PI,this.rotateCX,this.rotateCY],scale:[am,ak],skew:al/ak*180/Math.PI})},ah.prototype.applyProperties=function(aj){var am,ao,aq,ap,an,ai,al,ak;for(am={},an=0,ai=aj.length;ai>an;an++){aq=aj[an],am[aq[0]]=aq[1]}for(ao in am){ap=am[ao],"translateX"===ao?this.m=this.m.translate(ap,0):"translateY"===ao?this.m=this.m.translate(0,ap):"scaleX"===ao?this.m=this.m.scaleNonUniform(ap,1):"scaleY"===ao?this.m=this.m.scaleNonUniform(1,ap):"rotateZ"===ao?this.m=this.m.rotate(ap):"skewX"===ao?this.m=this.m.skewX(ap):"skewY"===ao&&(this.m=this.m.skewY(ap))}return this.rotateCX=null!=(al=am.rotateCX)?al:0,this.rotateCY=null!=(ak=am.rotateCY)?ak:0},ah}(),A=function(){function ah(ai){this.els=ai,this.combine=U(this.combine,this),this.normalize=U(this.normalize,this),this.length=U(this.length,this),this.cross=U(this.cross,this),this.dot=U(this.dot,this),this.e=U(this.e,this)}return ah.prototype.e=function(ai){return 1>ai||ai>this.els.length?null:this.els[ai-1]},ah.prototype.dot=function(ai){var ak,aj,al;if(ak=ai.els||ai,al=0,aj=this.els.length,aj!==ak.length){return null}for(aj+=1;--aj;){al+=this.els[aj-1]*ak[aj-1]}return al},ah.prototype.cross=function(ak){var aj,ai;return ai=ak.els||ak,3!==this.els.length||3!==ai.length?null:(aj=this.els,new ah([aj[1]*ai[2]-aj[2]*ai[1],aj[2]*ai[0]-aj[0]*ai[2],aj[0]*ai[1]-aj[1]*ai[0]]))},ah.prototype.length=function(){var ai,al,aj,am,ak;for(ai=0,ak=this.els,aj=0,am=ak.length;am>aj;aj++){al=ak[aj],ai+=Math.pow(al,2)}return Math.sqrt(ai)},ah.prototype.normalize=function(){var al,aj,am,ak,ai;am=this.length(),ak=[],ai=this.els;for(aj in ai){al=ai[aj],ak[aj]=al/am}return new ah(ak)},ah.prototype.combine=function(al,aj,am){var ak,ao,an,ai;for(ao=[],ak=an=0,ai=this.els.length;ai>=0?ai>an:an>ai;ak=ai>=0?++an:--an){ao[ak]=aj*this.els[ak]+am*al.els[ak]}return new ah(ao)},ah}(),af=function(){function ah(){this.toMatrix=U(this.toMatrix,this),this.format=U(this.format,this),this.interpolate=U(this.interpolate,this)}return ah.prototype.interpolate=function(am,aw,aA){var ax,ar,aB,ai,ao,at,an,aq,ay,ak,au,al,ap,aD,av,aj,az,aC;for(null==aA&&(aA=null),aB=this,ar=new ah,az=["translate","scale","skew","perspective"],al=0,aj=az.length;aj>al;al++){for(an=az[al],ar[an]=[],ai=ap=0,aC=aB[an].length-1;aC>=0?aC>=ap:ap>=aC;ai=aC>=0?++ap:--ap){ar[an][ai]=null==aA||aA.indexOf(an)>-1||aA.indexOf(""+an+["x","y","z"][ai])>-1?(am[an][ai]-aB[an][ai])*aw+aB[an][ai]:aB[an][ai]}}if(null==aA||-1!==aA.indexOf("rotate")){if(aq=aB.quaternion,ay=am.quaternion,ax=aq[0]*ay[0]+aq[1]*ay[1]+aq[2]*ay[2]+aq[3]*ay[3],0>ax){for(ai=aD=0;3>=aD;ai=++aD){aq[ai]=-aq[ai]}ax=-ax}for(ax+1>0.05?1-ax>=0.05?(au=Math.acos(ax),at=1/Math.sin(au),ak=Math.sin(au*(1-aw))*at,ao=Math.sin(au*aw)*at):(ak=1-aw,ao=aw):(ay[0]=-aq[1],ay[1]=aq[0],ay[2]=-aq[3],ay[3]=aq[2],ak=Math.sin(piDouble*(0.5-aw)),ao=Math.sin(piDouble*aw)),ar.quaternion=[],ai=av=0;3>=av;ai=++av){ar.quaternion[ai]=aq[ai]*ak+ay[ai]*ao}}else{ar.quaternion=aB.quaternion}return ar},ah.prototype.format=function(){return this.toMatrix().toString()},ah.prototype.toMatrix=function(){var ay,am,ak,ar,an,au,ax,ai,av,ap,at,ao,aj,aw,al,aq;for(ay=this,an=N.I(4),am=aj=0;3>=aj;am=++aj){an.els[am][3]=ay.perspective[am]}for(au=ay.quaternion,ap=au[0],at=au[1],ao=au[2],av=au[3],ax=ay.skew,ar=[[1,0],[2,0],[2,1]],am=aw=2;aw>=0;am=--aw){ax[am]&&(ai=N.I(4),ai.els[ar[am][0]][ar[am][1]]=ax[am],an=an.multiply(ai))}for(an=an.multiply(new N([[1-2*(at*at+ao*ao),2*(ap*at-ao*av),2*(ap*ao+at*av),0],[2*(ap*at+ao*av),1-2*(ap*ap+ao*ao),2*(at*ao-ap*av),0],[2*(ap*ao-at*av),2*(at*ao+ap*av),1-2*(ap*ap+at*at),0],[0,0,0,1]])),am=al=0;2>=al;am=++al){for(ak=aq=0;2>=aq;ak=++aq){an.els[am][ak]*=ay.scale[am]}an.els[3][am]=ay.translate[am]}return an},ah}(),N=function(){function ah(ai){this.els=ai,this.toString=U(this.toString,this),this.decompose=U(this.decompose,this),this.inverse=U(this.inverse,this),this.augment=U(this.augment,this),this.toRightTriangular=U(this.toRightTriangular,this),this.transpose=U(this.transpose,this),this.multiply=U(this.multiply,this),this.dup=U(this.dup,this),this.e=U(this.e,this)}return ah.prototype.e=function(ai,aj){return 1>ai||ai>this.els.length||1>aj||aj>this.els[0].length?null:this.els[ai-1][aj-1]},ah.prototype.dup=function(){return new ah(this.els)},ah.prototype.multiply=function(at){var am,ar,an,aw,aj,ap,ak,ai,au,av,ao,aq,al;for(aq=at.modulus?!0:!1,am=at.els||at,"undefined"==typeof am[0][0]&&(am=new ah(am).els),av=this.els.length,ak=av,ai=am[0].length,an=this.els[0].length,aw=[],av+=1;--av;){for(aj=ak-av,aw[aj]=[],ao=ai,ao+=1;--ao;){for(ap=ai-ao,al=0,au=an,au+=1;--au;){ar=an-au,al+=this.els[aj][ar]*am[ar][ap]}aw[aj][ap]=al}}return am=new ah(aw),aq?am.col(1):am},ah.prototype.transpose=function(){var al,aj,am,ak,ao,an,ai;for(ai=this.els.length,al=this.els[0].length,aj=[],ao=al,ao+=1;--ao;){for(am=al-ao,aj[am]=[],an=ai,an+=1;--an;){ak=ai-an,aj[am][ak]=this.els[ak][am]}}return new ah(aj)},ah.prototype.toRightTriangular=function(){var ak,av,an,at,ao,al,aj,ar,aq,am,aw,ai,ap,au;for(ak=this.dup(),ar=this.els.length,ao=ar,al=this.els[0].length;--ar;){if(an=ao-ar,0===ak.els[an][an]){for(at=aw=ap=an+1;ao>=ap?ao>aw:aw>ao;at=ao>=ap?++aw:--aw){if(0!==ak.els[at][an]){for(av=[],aq=al,aq+=1;--aq;){am=al-aq,av.push(ak.els[an][am]+ak.els[at][am])}ak.els[an]=av;break}}}if(0!==ak.els[an][an]){for(at=ai=au=an+1;ao>=au?ao>ai:ai>ao;at=ao>=au?++ai:--ai){for(aj=ak.els[at][an]/ak.els[an][an],av=[],aq=al,aq+=1;--aq;){am=al-aq,av.push(an>=am?0:ak.els[at][am]-ak.els[an][am]*aj)}ak.els[at]=av}}}return ak},ah.prototype.augment=function(al){var ap,ar,aq,an,ai,ak,aj,ao,am;if(ap=al.els||al,"undefined"==typeof ap[0][0]&&(ap=new ah(ap).els),ar=this.dup(),aq=ar.els[0].length,ao=ar.els.length,ak=ao,aj=ap[0].length,ao!==ap.length){return null}for(ao+=1;--ao;){for(an=ak-ao,am=aj,am+=1;--am;){ai=aj-am,ar.els[an][aq+ai]=ap[an][ai]}}return ar},ah.prototype.inverse=function(){var au,al,aq,am,aj,ao,ar,ap,ak,av,ai,an,at;for(av=this.els.length,ar=av,au=this.augment(ah.I(av)).toRightTriangular(),ap=au.els[0].length,aj=[],av+=1;--av;){for(am=av-1,aq=[],ai=ap,aj[am]=[],al=au.els[am][am],ai+=1;--ai;){an=ap-ai,ak=au.els[am][an]/al,aq.push(ak),an>=ar&&aj[am].push(ak)}for(au.els[am]=aq,ao=at=0;am>=0?am>at:at>am;ao=am>=0?++at:--at){for(aq=[],ai=ap,ai+=1;--ai;){an=ap-ai,aq.push(au.els[ao][an]-au.els[am][an]*au.els[ao][am])}au.els[ao]=aq}}return new ah(aj)},ah.I=function(al){var aj,am,ak,ai,an;for(aj=[],ai=al,al+=1;--al;){for(am=ai-al,aj[am]=[],an=ai,an+=1;--an;){ak=ai-an,aj[am][ak]=am===ak?1:0}}return new ah(aj)},ah.prototype.decompose=function(){var aQ,aI,aO,aK,aD,aP,ax,aR,aG,aB,aL,az,aH,aA,aC,av,aS,ay,aT,aU,ao,ar,aF,at,aj,am,aq,aM,an,aJ,aN,ai,aE,aw,ak,al,ap,au;for(aP=this,aU=[],aS=[],ay=[],aB=[],aR=[],aQ=[],aI=an=0;3>=an;aI=++an){for(aQ[aI]=[],aK=aJ=0;3>=aJ;aK=++aJ){aQ[aI][aK]=aP.els[aI][aK]}}if(0===aQ[3][3]){return !1}for(aI=aN=0;3>=aN;aI=++aN){for(aK=ai=0;3>=ai;aK=++ai){aQ[aI][aK]/=aQ[3][3]}}for(aG=aP.dup(),aI=aE=0;2>=aE;aI=++aE){aG.els[aI][3]=0}if(aG.els[3][3]=1,0!==aQ[0][3]||0!==aQ[1][3]||0!==aQ[2][3]){for(az=new A(aQ.slice(0,4)[3]),aO=aG.inverse(),ao=aO.transpose(),aR=ao.multiply(az).els,aI=aw=0;2>=aw;aI=++aw){aQ[aI][3]=0}aQ[3][3]=1}else{aR=[0,0,0,1]}for(aI=ak=0;2>=ak;aI=++ak){aU[aI]=aQ[3][aI],aQ[3][aI]=0}for(aA=[],aI=al=0;2>=al;aI=++al){aA[aI]=new A(aQ[aI].slice(0,3))}if(aS[0]=aA[0].length(),aA[0]=aA[0].normalize(),ay[0]=aA[0].dot(aA[1]),aA[1]=aA[1].combine(aA[0],1,-ay[0]),aS[1]=aA[1].length(),aA[1]=aA[1].normalize(),ay[0]/=aS[1],ay[1]=aA[0].dot(aA[2]),aA[2]=aA[2].combine(aA[0],1,-ay[1]),ay[2]=aA[1].dot(aA[2]),aA[2]=aA[2].combine(aA[1],1,-ay[2]),aS[2]=aA[2].length(),aA[2]=aA[2].normalize(),ay[1]/=aS[2],ay[2]/=aS[2],ax=aA[1].cross(aA[2]),aA[0].dot(ax)<0){for(aI=ap=0;2>=ap;aI=++ap){for(aS[aI]*=-1,aK=au=0;2>=au;aK=++au){aA[aI].els[aK]*=-1}}}aC=function(aV,aW){return aA[aV].els[aW]},aH=[],aH[1]=Math.asin(-aC(0,2)),0!==Math.cos(aH[1])?(aH[0]=Math.atan2(aC(1,2),aC(2,2)),aH[2]=Math.atan2(aC(0,1),aC(0,0))):(aH[0]=Math.atan2(-aC(2,0),aC(1,1)),aH[1]=0),aT=aC(0,0)+aC(1,1)+aC(2,2)+1,aT>0.0001?(av=0.5/Math.sqrt(aT),aj=0.25/av,am=(aC(2,1)-aC(1,2))*av,aq=(aC(0,2)-aC(2,0))*av,aM=(aC(1,0)-aC(0,1))*av):aC(0,0)>aC(1,1)&&aC(0,0)>aC(2,2)?(av=2*Math.sqrt(1+aC(0,0)-aC(1,1)-aC(2,2)),am=0.25*av,aq=(aC(0,1)+aC(1,0))/av,aM=(aC(0,2)+aC(2,0))/av,aj=(aC(2,1)-aC(1,2))/av):aC(1,1)>aC(2,2)?(av=2*Math.sqrt(1+aC(1,1)-aC(0,0)-aC(2,2)),am=(aC(0,1)+aC(1,0))/av,aq=0.25*av,aM=(aC(1,2)+aC(2,1))/av,aj=(aC(0,2)-aC(2,0))/av):(av=2*Math.sqrt(1+aC(2,2)-aC(0,0)-aC(1,1)),am=(aC(0,2)+aC(2,0))/av,aq=(aC(1,2)+aC(2,1))/av,aM=0.25*av,aj=(aC(1,0)-aC(0,1))/av),aB=[am,aq,aM,aj],aL=new af,aL.translate=aU,aL.scale=aS,aL.skew=ay,aL.quaternion=aB,aL.perspective=aR,aL.rotate=aH;for(aF in aL){ar=aL[aF];for(aD in ar){at=ar[aD],isNaN(at)&&(ar[aD]=0)}}return aL},ah.prototype.toString=function(){var ai,al,aj,am,ak;for(aj="matrix3d(",ai=am=0;3>=am;ai=++am){for(al=ak=0;3>=ak;al=++ak){aj+=b(this.els[ai][al],10),(3!==ai||3!==al)&&(aj+=",")}}return aj+=")"},ah.matrixForTransform=Q(function(ao){var al,aj,am,ak,ai,an;return al=document.createElement("div"),al.style.position="absolute",al.style.visibility="hidden",al.style[l("transform")]=ao,document.body.appendChild(al),am=window.getComputedStyle(al,null),aj=null!=(ak=null!=(ai=am.transform)?ai:am[l("transform")])?ak:null!=(an=e.tests)?an.matrixForTransform(ao):void 0,document.body.removeChild(al),aj}),ah.fromTransform=function(al){var aj,am,ak,ao,an,ai;for(ao=null!=al?al.match(/matrix3?d?\(([-0-9,e \.]*)\)/):void 0,ao?(aj=ao[1].split(","),aj=aj.map(parseFloat),am=6===aj.length?[aj[0],aj[1],0,0,aj[2],aj[3],0,0,0,0,1,0,aj[4],aj[5],0,1]:aj):am=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],an=[],ak=ai=0;3>=ai;ak=++ai){an.push(am.slice(4*ak,4*ak+4))}return new ah(an)},ah}(),d=Q(function(ah){var ak,ao,aq,ap,am,ar,aj,ai,an,al;if(void 0!==document.body.style[ah]){return""}for(ap=ah.split("-"),am="",ar=0,ai=ap.length;ai>ar;ar++){aq=ap[ar],am+=aq.substring(0,1).toUpperCase()+aq.substring(1)}for(al=["Webkit","Moz","ms"],aj=0,an=al.length;an>aj;aj++){if(ao=al[aj],ak=ao+am,void 0!==document.body.style[ak]){return ao}}return""}),l=Q(function(ai){var ah;return ah=d(ai),"Moz"===ah?""+ah+(ai.substring(0,1).toUpperCase()+ai.substring(1)):""!==ah?"-"+ah.toLowerCase()+"-"+u(ai):u(ai)}),x="undefined"!=typeof window&&null!==window?window.requestAnimationFrame:void 0,ae=[],z=[],k=!1,r=1,"undefined"!=typeof window&&null!==window&&window.addEventListener("keyup",function(ah){return 68===ah.keyCode&&ah.shiftKey&&ah.ctrlKey?e.toggleSlow():void 0}),null==x&&(w=0,x=function(ai){var ak,aj,ah;return ak=Date.now(),ah=Math.max(0,16-(ak-w)),aj=window.setTimeout(function(){return ai(ak+ah)},ah),w=ak+ah,aj}),a=!1,i=!1,X=function(){return a?void 0:(a=!0,x(m))},m=function(ai){var al,aj,ah,ak;if(i){return void x(m)}for(aj=[],ah=0,ak=ae.length;ak>ah;ah++){al=ae[ah],F(ai,al)||aj.push(al)}return ae=ae.filter(function(am){return -1===aj.indexOf(am)}),0===ae.length?a=!1:x(m)},F=function(ai,al){var ao,aq,ap,am,ah,ak,aj,an;if(null==al.tStart&&(al.tStart=ai),am=(ai-al.tStart)/al.options.duration,ah=al.curve(am),aq={},am>=1){aq=al.curve.returnsToSelf?al.properties.start:al.properties.end}else{an=al.properties.start;for(ao in an){ap=an[ao],aq[ao]=J(ap,al.properties.end[ao],ah)}}return O(al.el,aq),"function"==typeof(ak=al.options).change&&ak.change(al.el,Math.min(1,am)),am>=1&&"function"==typeof(aj=al.options).complete&&aj.complete(al.el),1>am},J=function(ai,ah,aj){return null!=ai&&null!=ai.interpolate?ai.interpolate(ah,aj):null},V=function(ar,ai,am,ap){var an,al,aq,ah,aj,ak,ao;if(null!=ap&&(z=z.filter(function(at){return at.id!==ap})),e.stop(ar,{timeout:!1}),!am.animated){return e.css(ar,ai),void ("function"==typeof am.complete&&am.complete(this))}aj=o(ar,Object.keys(ai)),ai=c(ai),an={},ak=[];for(aq in ai){ao=ai[aq],null!=ar.style&&ab.contains(aq)?ak.push([aq,ao]):an[aq]=D(ao)}return ak.length>0&&(al=v(ar),al?(ah=new E,ah.applyProperties(ak)):(ao=ak.map(function(at){return y(at[0],at[1])}).join(" "),ah=N.fromTransform(N.matrixForTransform(ao))),an.transform=ah.decompose(),al&&aj.transform.applyRotateCenter([an.transform.props.rotate[1],an.transform.props.rotate[2]])),ad(ar,an),ae.push({el:ar,properties:{start:aj,end:an},options:am,curve:am.type.call(am.type,am)}),X()},Z=[],n=0,t=function(ah){return f()?x(function(){return -1!==Z.indexOf(ah)?ah.realTimeoutId=setTimeout(function(){return ah.fn(),j(ah.id)},ah.delay):void 0}):void 0},I=function(ai,ah){var aj;return n+=1,aj={id:n,tStart:Date.now(),fn:ai,delay:ah,originalDelay:ah},t(aj),Z.push(aj),n},j=function(ah){return Z=Z.filter(function(ai){return ai.id===ah&&ai.realTimeoutId&&clearTimeout(ai.realTimeoutId),ai.id!==ah})},W=function(ai,ah){var aj;return null!=ai?(aj=ai-ah.tStart,ah.originalDelay-aj):ah.originalDelay},"undefined"!=typeof window&&null!==window&&window.addEventListener("unload",function(){}),g=null,T(function(ah){var ak,ao,aq,ap,am,ar,aj,ai,an,al;if(i=!ah,ah){if(a){for(ao=Date.now()-g,am=0,ai=ae.length;ai>am;am++){ak=ae[am],null!=ak.tStart&&(ak.tStart+=ao)}}for(ar=0,an=Z.length;an>ar;ar++){aq=Z[ar],aq.delay=W(g,aq),t(aq)}return g=null}for(g=Date.now(),al=[],ap=0,aj=Z.length;aj>ap;ap++){aq=Z[ap],al.push(clearTimeout(aq.realTimeoutId))}return al}),e={},e.linear=function(){return function(ah){return ah}},e.spring=function(ah){var al,aj,am,ak,ai,an;return null==ah&&(ah={}),S(ah,e.spring.defaults),ak=Math.max(1,ah.frequency/20),ai=Math.pow(20,ah.friction/100),an=ah.anticipationSize/1000,am=Math.max(0,an),al=function(ao){var at,ap,au,aq,ar;return at=0.8,aq=an/(1-an),ar=0,au=(aq-at*ar)/(aq-ar),ap=(at-au)/aq,ap*ao*ah.anticipationStrength/100+au},aj=function(ao){return Math.pow(ai/10,-ao)*(1-ao)},function(aw){var av,ar,ao,ax,at,ap,aq,au;return ap=aw/(1-an)-an/(1-an),an>aw?(au=an/(1-an)-an/(1-an),aq=0/(1-an)-an/(1-an),at=Math.acos(1/al(au)),ao=(Math.acos(1/al(aq))-at)/(ak*-an),av=al):(av=aj,at=0,ao=1),ar=av(ap),ax=ak*(aw-an)*ao+at,1-ar*Math.cos(ax)}},e.bounce=function(ai){var al,aj,ah,ak;return null==ai&&(ai={}),S(ai,e.bounce.defaults),ah=Math.max(1,ai.frequency/20),ak=Math.pow(20,ai.friction/100),al=function(am){return Math.pow(ak/10,-am)*(1-am)},aj=function(ap){var am,an,aq,ao;return ao=-1.57,an=1,am=al(ap),aq=ah*ap*an+ao,am*Math.cos(aq)},aj.returnsToSelf=!0,aj},e.gravity=function(an){var ak,ai,al,aj,ao,am,ah;return null==an&&(an={}),S(an,e.gravity.defaults),ai=Math.min(an.bounciness/1250,0.8),aj=an.elasticity/1000,ah=100,al=[],ak=function(){var ap,aq;for(ap=Math.sqrt(2/ah),aq={a:-ap,b:ap,H:1},an.returnsToSelf&&(aq.a=0,aq.b=2*aq.b);aq.H>0.001;){ak=aq.b-aq.a,aq={a:aq.b,b:aq.b+ak*ai,H:aq.H*ai*ai}}return aq.b}(),am=function(ar,av,at,aq){var ap,au;return ak=av-ar,au=2/ak*aq-1-2*ar/ak,ap=au*au*at-at+1,an.returnsToSelf&&(ap=1-ap),ap},function(){var ap,at,ar,aq;for(at=Math.sqrt(2/(ah*ak*ak)),ar={a:-at,b:at,H:1},an.returnsToSelf&&(ar.a=0,ar.b=2*ar.b),al.push(ar),ap=ak,aq=[];ar.b<1&&ar.H>0.001;){ap=ar.b-ar.a,ar={a:ar.b,b:ar.b+ap*ai,H:ar.H*aj},aq.push(al.push(ar))}return aq}(),ao=function(ar){var at,ap,aq;for(ap=0,at=al[ap];!(ar>=at.a&&ar<=at.b)&&(ap+=1,at=al[ap]);){}return aq=at?am(at.a,at.b,at.H,ar):an.returnsToSelf?0:1},ao.returnsToSelf=an.returnsToSelf,ao},e.forceWithGravity=function(ah){return null==ah&&(ah={}),S(ah,e.forceWithGravity.defaults),ah.returnsToSelf=!0,e.gravity(ah)},e.bezier=function(){var ai,ah,aj;return ah=function(ao,am,ak,an,al){return Math.pow(1-ao,3)*am+3*Math.pow(1-ao,2)*ao*ak+3*(1-ao)*Math.pow(ao,2)*an+Math.pow(ao,3)*al},ai=function(an,ak,am,al,ao){return{x:ah(an,ak.x,am.x,al.x,ao.x),y:ah(an,ak.y,am.y,al.y,ao.y)}},aj=function(am,av,ao){var ar,ap,ak,al,au,at,an,aw,ax,aq;for(ar=null,ax=0,aq=av.length;aq>ax&&(ap=av[ax],am>=ap(0).x&&am<=ap(1).x&&(ar=ap),null===ar);ax++){}if(!ar){return ao?0:1}for(aw=0.0001,al=0,at=1,au=(at+al)/2,an=ar(au).x,ak=0;Math.abs(am-an)>aw&&100>ak;){am>an?al=au:at=au,au=(at+al)/2,an=ar(au).x,ak+=1}return ar(au).y},function(al){var am,ak,an;return null==al&&(al={}),an=al.points,am=function(){var aq,ao,ap;am=[],ap=function(at,au){var ar;return ar=function(av){return ai(av,at,at.cp[at.cp.length-1],au.cp[0],au)},am.push(ar)};for(aq in an){if(ao=parseInt(aq),ao>=an.length-1){break}ap(an[ao],an[ao+1])}return am}(),ak=function(ao){return 0===ao?0:1===ao?1:aj(ao,am,this.returnsToSelf)},ak.returnsToSelf=0===an[an.length-1].y,ak}}(),e.easeInOut=function(ai){var ah,aj;return null==ai&&(ai={}),ah=null!=(aj=ai.friction)?aj:e.easeInOut.defaults.friction,e.bezier({points:[{x:0,y:0,cp:[{x:0.92-ah/1000,y:0}]},{x:1,y:1,cp:[{x:0.08+ah/1000,y:1}]}]})},e.easeIn=function(ai){var ah,aj;return null==ai&&(ai={}),ah=null!=(aj=ai.friction)?aj:e.easeIn.defaults.friction,e.bezier({points:[{x:0,y:0,cp:[{x:0.92-ah/1000,y:0}]},{x:1,y:1,cp:[{x:1,y:1}]}]})},e.easeOut=function(ai){var ah,aj;return null==ai&&(ai={}),ah=null!=(aj=ai.friction)?aj:e.easeOut.defaults.friction,e.bezier({points:[{x:0,y:0,cp:[{x:0,y:0}]},{x:1,y:1,cp:[{x:0.08+ah/1000,y:1}]}]})},e.spring.defaults={frequency:300,friction:200,anticipationSize:0,anticipationStrength:0},e.bounce.defaults={frequency:300,friction:200},e.forceWithGravity.defaults=e.gravity.defaults={bounciness:400,elasticity:200},e.easeInOut.defaults=e.easeIn.defaults=e.easeOut.defaults={friction:500},e.css=C(function(ai,ah){return ac(ai,ah,!0)}),e.animate=C(function(ai,ak,aj){var ah;return null==aj&&(aj={}),aj=p(aj),S(aj,{type:e.easeInOut,duration:1000,delay:0,animated:!0}),aj.duration=Math.max(0,aj.duration*r),aj.delay=Math.max(0,aj.delay),0===aj.delay?V(ai,ak,aj):(ah=e.setTimeout(function(){return V(ai,ak,aj,ah)},aj.delay),z.push({id:ah,el:ai}))}),e.stop=C(function(ai,ah){return null==ah&&(ah={}),null==ah.timeout&&(ah.timeout=!0),ah.timeout&&(z=z.filter(function(aj){return aj.el!==ai||null!=ah.filter&&!ah.filter(aj)?!0:(e.clearTimeout(aj.id),!1)})),ae=ae.filter(function(aj){return aj.el!==ai})}),e.setTimeout=function(ai,ah){return I(ai,ah*r)},e.clearTimeout=function(ah){return j(ah)},e.toggleSlow=function(){return k=!k,r=k?3:1,"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log("dynamics.js: slow animations "+(k?"enabled":"disabled")):void 0},"object"==typeof module&&"object"==typeof module.exports?module.exports=e:"function"==typeof define?define("dynamics",function(){return e}):window.dynamics=e}).call(this);